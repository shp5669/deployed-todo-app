{"ast":null,"code":"import{useState}from'react';import{useCookies}from'react-cookie';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Auth=()=>{const[cookies,setCookie,removeCookie]=useCookies(null);const[isLogIn,setIsLogin]=useState(true);const[email,setEmail]=useState(null);const[password,setPassword]=useState(null);const[confirmPassword,setConfirmPassword]=useState(null);const[error,setError]=useState(null);const viewLogin=status=>{setError(null);setIsLogin(status);};const handleSubmit=async(e,endpoint)=>{e.preventDefault();if(!isLogIn&&password!==confirmPassword){setError('Make sure passwords match!');return;}const response=await fetch(`${process.env.REACT_APP_SERVERURL}/${endpoint}`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email,password})});const data=await response.json();if(data.detail){setError(data.detail);}else{setCookie('Email',data.email);setCookie('AuthToken',data.token);window.location.reload();}};return/*#__PURE__*/_jsx(\"div\",{className:\"auth-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"auth-container-box\",children:[/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:isLogIn?'Please log in':'Please sign up!'}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"email\",onChange:e=>setEmail(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"password\",onChange:e=>setPassword(e.target.value)}),!isLogIn&&/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"confirm password\",onChange:e=>setConfirmPassword(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"create\",onClick:e=>handleSubmit(e,isLogIn?'login':'signup')}),error&&/*#__PURE__*/_jsx(\"p\",{children:error})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"auth-options\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>viewLogin(false),style:{backgroundColor:!isLogIn?'rgb(255, 255, 255)':'rgb(188, 188, 188)'},children:\"Sign Up\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>viewLogin(true),style:{backgroundColor:isLogIn?'rgb(255, 255, 255)':'rgb(188, 188, 188)'},children:\"Login\"})]})]})});};export default Auth;","map":{"version":3,"names":["useState","useCookies","jsx","_jsx","jsxs","_jsxs","Auth","cookies","setCookie","removeCookie","isLogIn","setIsLogin","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","error","setError","viewLogin","status","handleSubmit","e","endpoint","preventDefault","response","fetch","process","env","REACT_APP_SERVERURL","method","headers","body","JSON","stringify","data","json","detail","token","window","location","reload","className","children","type","placeholder","onChange","target","value","onClick","style","backgroundColor"],"sources":["/Users/seanpark/Desktop/Sean/deployed-todo-app/client/src/components/Auth.js"],"sourcesContent":["import { useState } from 'react'\nimport { useCookies} from 'react-cookie'\n\nconst Auth = () => {\n  const [cookies, setCookie, removeCookie] = useCookies(null)\n  const [isLogIn, setIsLogin] = useState(true)\n  const [email, setEmail] = useState(null)\n  const [password, setPassword] = useState(null)\n  const [confirmPassword, setConfirmPassword] = useState(null)\n  const [error, setError] = useState(null)\n\n  const viewLogin = (status) => {\n    setError(null)\n    setIsLogin(status)\n  }\n\n  const handleSubmit = async (e, endpoint) => {\n    e.preventDefault()\n    if (!isLogIn && password !== confirmPassword) {\n      setError('Make sure passwords match!')\n      return\n    }\n    \n    const response = await fetch(`${process.env.REACT_APP_SERVERURL}/${endpoint}`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({email, password})\n    })\n\n    const data = await response.json()\n\n    if (data.detail) {\n      setError(data.detail)\n    } else {\n      setCookie('Email', data.email)\n      setCookie('AuthToken', data.token)\n\n      window.location.reload()\n    }\n\n  }\n\n\n  return (\n    <div className=\"auth-container\">\n      <div className=\"auth-container-box\">\n        <form>\n          <h2>{isLogIn  ? 'Please log in' : 'Please sign up!'}</h2>\n          <input\n            type=\"email\"\n            placeholder=\"email\"\n            onChange={(e) => setEmail(e.target.value)}\n          />\n          <input\n            type=\"password\"\n            placeholder=\"password\"\n            onChange={(e) => setPassword(e.target.value)}\n          />\n          {!isLogIn && <input\n            type=\"password\"\n            placeholder=\"confirm password\"\n            onChange={(e) =>setConfirmPassword(e.target.value)}\n          />}\n          <input type=\"submit\" className=\"create\" onClick={(e) => handleSubmit(e, isLogIn ? 'login' : 'signup')} />\n          {error && <p>{error}</p>}\n        </form>\n        <div className=\"auth-options\">\n          <button\n            onClick={() => viewLogin(false)}\n            style={{backgroundColor : !isLogIn ? 'rgb(255, 255, 255)' : 'rgb(188, 188, 188)'}}\n          >Sign Up</button>\n          <button\n            onClick={() => viewLogin(true)}\n            style={{backgroundColor : isLogIn ? 'rgb(255, 255, 255)' : 'rgb(188, 188, 188)'}}\n          >Login</button>\n        </div>\n\n      </div>\n    </div>\n  )\n}\n\nexport default Auth\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}